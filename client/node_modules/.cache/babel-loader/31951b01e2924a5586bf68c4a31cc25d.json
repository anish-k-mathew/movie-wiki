{"ast":null,"code":"import _regeneratorRuntime from \"/Users/anish.k.mathew/workspace/personal/movie-wiki/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/anish.k.mathew/workspace/personal/movie-wiki/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/anish.k.mathew/workspace/personal/movie-wiki/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/anish.k.mathew/workspace/personal/movie-wiki/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/anish.k.mathew/workspace/personal/movie-wiki/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/anish.k.mathew/workspace/personal/movie-wiki/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/anish.k.mathew/workspace/personal/movie-wiki/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/anish.k.mathew/workspace/personal/movie-wiki/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/anish.k.mathew/workspace/personal/movie-wiki/client/src/components/containers/Movies.js\";\nimport React, { Component } from \"react\";\nimport MovieSearch from \"./MovieSearch\";\nimport Movie from \"./Movie\";\n\nvar MovieDb = require(\"moviedb-promise\");\n\nvar moviedb = new MovieDb(\"f7b5dc7f802e943f335a3f26722ddfc4\");\n\nvar Movies =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Movies, _Component);\n\n  function Movies(props) {\n    var _this;\n\n    _classCallCheck(this, Movies);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Movies).call(this, props));\n\n    _this.searchMovies =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(searchTerm) {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return moviedb.searchMovie({\n                  query: searchTerm\n                });\n\n              case 2:\n                response = _context.sent;\n\n                _this.setState({\n                  result: response.results\n                });\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.state = {\n      result: [],\n      searchTerm: \"\"\n    };\n    _this.setSearchMovies = _this.setSearchMovies.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.searchMovies = _this.searchMovies.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onHandleClick = _this.onHandleClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onSearchChange = _this.onSearchChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onSearchSubmit = _this.onSearchSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Movies, [{\n    key: \"onSearchChange\",\n    value: function onSearchChange(event) {\n      this.setState({\n        searchTerm: event.target.value\n      });\n    }\n  }, {\n    key: \"onSearchSubmit\",\n    value: function onSearchSubmit(event) {\n      var searchTerm = this.state.searchTerm;\n      this.setState({\n        searchTerm: searchTerm\n      });\n      this.searchMovies(searchTerm);\n      event.preventDefault();\n    }\n  }, {\n    key: \"setSearchMovies\",\n    value: function setSearchMovies(result) {\n      this.setState({\n        result: result\n      });\n\n      if (result === null) {\n        this.setState({\n          result: null\n        });\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var searchTerm = this.state.searchTerm;\n      this.setState({\n        searchTerm: searchTerm\n      });\n      this.searchMovies(searchTerm);\n    }\n  }, {\n    key: \"onHandleClick\",\n    value: function onHandleClick(event) {\n      this.setState({\n        searchTerm: event.target.value\n      });\n      this.searchMovies(event.target.value);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          searchTerm = _this$state.searchTerm,\n          result = _this$state.result;\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(MovieSearch, {\n        value: searchTerm,\n        onChange: this.onSearchChange,\n        onSubmit: this.onSearchSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"card-deck\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, result && result.map(function (item) {\n        return React.createElement(Movie, {\n          key: item.id,\n          item: item,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        });\n      }))));\n    }\n  }]);\n\n  return Movies;\n}(Component);\n\nexport default Movies;","map":{"version":3,"sources":["/Users/anish.k.mathew/workspace/personal/movie-wiki/client/src/components/containers/Movies.js"],"names":["React","Component","MovieSearch","Movie","MovieDb","require","moviedb","Movies","props","searchMovies","searchTerm","searchMovie","query","response","setState","result","results","state","setSearchMovies","bind","onHandleClick","onSearchChange","onSearchSubmit","event","target","value","preventDefault","map","item","id"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport MovieSearch from \"./MovieSearch\";\r\nimport Movie from \"./Movie\";\r\n\r\nconst MovieDb = require(\"moviedb-promise\");\r\n\r\nconst moviedb = new MovieDb(\"f7b5dc7f802e943f335a3f26722ddfc4\");\r\n\r\nclass Movies extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      result: [],\r\n      searchTerm: \"\"\r\n    };\r\n    this.setSearchMovies = this.setSearchMovies.bind(this);\r\n    this.searchMovies = this.searchMovies.bind(this);\r\n    this.onHandleClick = this.onHandleClick.bind(this);\r\n    this.onSearchChange = this.onSearchChange.bind(this);\r\n    this.onSearchSubmit = this.onSearchSubmit.bind(this);\r\n  }\r\n\r\n  onSearchChange(event) {\r\n    this.setState({ searchTerm: event.target.value });\r\n  }\r\n\r\n  onSearchSubmit(event) {\r\n    const { searchTerm } = this.state;\r\n    this.setState({ searchTerm });\r\n    this.searchMovies(searchTerm);\r\n    event.preventDefault();\r\n  }\r\n  setSearchMovies(result) {\r\n    this.setState({ result: result });\r\n    if (result === null) {\r\n      this.setState({ result: null });\r\n    }\r\n  }\r\n\r\n  searchMovies = async searchTerm => {\r\n    const response = await moviedb.searchMovie({ query: searchTerm });\r\n    this.setState({ result: response.results });\r\n  };\r\n  componentDidMount() {\r\n    const { searchTerm } = this.state;\r\n    this.setState({ searchTerm });\r\n    this.searchMovies(searchTerm);\r\n  }\r\n\r\n  onHandleClick(event) {\r\n    this.setState({ searchTerm: event.target.value });\r\n    this.searchMovies(event.target.value);\r\n  }\r\n\r\n  render() {\r\n    const { searchTerm, result } = this.state;\r\n    return (\r\n      <React.Fragment>\r\n        <MovieSearch\r\n          value={searchTerm}\r\n          onChange={this.onSearchChange}\r\n          onSubmit={this.onSearchSubmit}\r\n        />\r\n        <div className=\"card-deck\">\r\n          <div className=\"row\">\r\n            {result && result.map(item => <Movie key={item.id} item={item} />)}\r\n          </div>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Movies;\r\n"]},"metadata":{},"sourceType":"module"}